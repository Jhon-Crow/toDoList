# stateService

#### Взаимодействия с localStorage:
Получает массив из localStorage в начале.
При событии unload происходит превращение stateMap в массив и отправка в localStorage если новый массив !== старому

В сервисе реализованы методы set, patch, get, delete.

### Для удобного использования методов из stateService.js экспортируется объект stateToolkit, в котором содержатся методы:
- setToService - принимает id нового объекта и сам объект.
- patchToService - принимает id нового объекта и объект с новым/переопределяемым ключом+значением.
- getFromService - принимает id существующего в состоянии объекта.
- getAllFromService - возвращает текущее состояние в виде массива объектов.
- getAllKeysFromService - возвращает массив ключей из состояния.
- deleteFromService - принимает id существующего в состоянии объекта.
- deleteAllFromService - заменяет состояние на __пустой массив__ и возвращает его.

#### _Важно! Во все методы кроме getAll и getAllKeys обязательно передавать toDoItemId, он всегда должен быть строкой!_


____
Возможные выдаваемые ошибки:

- Get и Patch выдают __'Item Not Found!'__ если не находят данные по id.
- getAll и getAllKeys выдают __'State is Empty!'__ если состояние пуст
- Set и delete выдают __'incorrect ID!'__ если id не строка.
- Set также выдаст __'incorrect ID!'__ если данные по указанному id уже существуют.

